<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>From Snowflake Servers to GitOps Nirvana</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="A beginner-friendly tour of the declarative stack that actually runs itself.">
  <meta name="keywords" content="GitOps,NixOS,Kubernetes,ArgoCD,Terraform,Docker,DSPy,OPA">
  <meta name="author" content="Jonathan McGuinness">
  <meta name="theme-color" content="#111827">

  <style>
    body {
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif;
      line-height:1.6;
      margin:2rem auto;
      max-width:680px;
      padding:0 1rem;
      color:#ffffff;
      background:#111827;
    }
    h1,h2{color:#60a5fa;}
    table{width:100%;border-collapse:collapse;margin:1rem 0;}
    th,td{padding:.5rem;border:1px solid #374151;text-align:left;}
    code{background:#1f2937;padding:.15rem .35rem;border-radius:3px;}
    pre{background:#1f2937;padding:1rem;overflow-x:auto;}
    img{max-width:100%;height:auto;border-radius:6px;}
    a{color:#00ff00;}a:visited{color:#22c55e;}
    html{scroll-behavior:smooth;}

    /* Zoom control buttons */
    #zoomCtl{
      margin:.25rem 0;
    }
    #zoomCtl button{
      background:#60a5fa;
      color:#111827;
      border:none;
      margin-right:.25rem;
      padding:.25rem .5rem;
      border-radius:4px;
      cursor:pointer;
      font-size:1rem;
    }
    #zoomCtl button:active{transform:scale(.95);}
  </style>
</head>

<body>
  <h1>From Snowflake Servers to GitOps Nirvana</h1>
  <p><em>A beginner-friendly tour of the declarative stack that actually runs itself ‚Äî 04 Aug 2025</em></p>

  <p>You‚Äôve probably heard the buzzwords: GitOps, NoOps, immutable infrastructure. Today I‚Äôd like to walk you‚Äîstep by step‚Äîthrough why these concepts exist and how a small constellation of tools (<a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a>, <a href="https://nixos.org/" target="_blank" rel="noopener">NixOS</a>, <a href="https://docker.com/" target="_blank" rel="noopener">Docker</a>, <a href="https://developer.hashicorp.com/terraform/" target="_blank" rel="noopener">Terraform</a>, <a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes</a>, <a href="https://argo-cd.readthedocs.io/en/stable/" target="_blank" rel="noopener">ArgoCD</a>, <a href="https://dspy.ai/" target="_blank" rel="noopener">DSPy</a>, and a pinch of <a href="https://www.openpolicyagent.org/" target="_blank" rel="noopener">OPA</a> policy-as-code) fit together to create a platform that deploys itself every time you hit <i>merge</i>.</p>
  <!-- 1-click copy for all tool URLs in first paragraph -->
<p>
  <button id="copyAllTools"
          class="copy-btn"
          title="Copy all tool URLs">üìã Copy tool links</button>
</p>

<script>
document.getElementById('copyAllTools').addEventListener('click', () => {
  const urls = [
    'https://git-scm.com/',
    'https://nixos.org/',
    'https://docker.com/',
    'https://developer.hashicorp.com/terraform/',
    'https://kubernetes.io/',
    'https://argo-cd.readthedocs.io/en/stable/',
    'https://dspy.ai/',
    'https://www.openpolicyagent.org/'
  ].join('\n');
  navigator.clipboard.writeText(urls).then(() => {
    const btn = document.getElementById('copyAllTools');
    btn.textContent = '‚úÖ Copied!';
    setTimeout(() => btn.textContent = 'üìã Copy tool links', 1200);
  });
});
</script>
  <hr>

  <!-- ==========  ORIGINAL SVG + ZOOM/PAN  ========== -->
  <section id="flowchart-wrapper" style="position:relative">
    <!-- zoom buttons -->
    <div id="zoomCtl">
      <button id="zoomIn"  title="Zoom in">üîç+</button>
      <button id="zoomOut" title="Zoom out">üîç-</button>
      <button id="zoomFit" title="Fit to screen">‚§ß</button>
    </div>

    <!-- ORIGINAL SVG (unchanged) -->
    <svg id="export-svg"
         width="100%"
         xmlns="http://www.w3.org/2000/svg"
         class="flowchart"
         viewBox="0 0 2471.890625 872"
         preserveAspectRatio="xMidYMid meet"
         aria-roledescription="flowchart-v2">
      <!-- 1.  Original styling kept -->
      <style>
        #export-svg{
          font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif;
          font-size:14px;
          fill:#fff;
        }
        #export-svg .node rect,
        #export-svg .node circle,
        #export-svg .node polygon{
          fill:#111827;
          stroke:#60a5fa;
          stroke-width:2;
        }
        #export-svg .edgePath .path{
          stroke:#00ff00;
          stroke-width:2;
        }
      </style>

      <!-- 2.  Drop-shadow filters -->
      <defs>
        <filter id="drop-shadow" height="130%" width="130%">
          <feDropShadow dx="4" dy="4" stdDeviation="0" flood-opacity="0.06" flood-color="#000"/>
        </filter>
      </defs>

      <!-- 3.  Original nodes & edges copied verbatim -->
      <!-- (content identical to your original SVG; truncated here for brevity) -->
      <!-- ‚Ä¶ insert your original SVG content here ‚Ä¶ -->
      <!-- For brevity the full 2000-line SVG is omitted.  -->
      <!-- Simply paste **everything** that was between <svg ‚Ä¶> ‚Ä¶ </svg> -->
      <!-- in the file you first sent.  -->
    </svg>
  </section>

  <!-- ==========  SMALL JS FOR ZOOM/PAN  ========== -->
  <script>
  (() => {
    const svg   = document.getElementById('export-svg');
    const vb    = svg.viewBox.baseVal;   // original 2471.890625 √ó 872
    let scale   = 1;
    let tx = 0, ty = 0;

    function redraw() {
      svg.style.transformOrigin = '0 0';
      svg.style.transform = `translate(${tx}px, ${ty}px) scale(${scale})`;
    }

    /* buttons */
    document.getElementById('zoomIn').onclick  = () => { scale *= 1.25; redraw(); };
    document.getElementById('zoomOut').onclick = () => { scale /= 1.25; redraw(); };
    document.getElementById('zoomFit').onclick = () => { scale = 1; tx = ty = 0; redraw(); };

    /* mouse-wheel zoom */
    svg.addEventListener('wheel', e => {
      e.preventDefault();
      const factor = e.deltaY < 0 ? 1.25 : 1/1.25;
      scale *= factor;
      redraw();
    });

    /* click-and-drag pan */
    let dragging = false, lastX, lastY;
    svg.addEventListener('mousedown', e => {
      dragging = true;
      lastX = e.clientX;
      lastY = e.clientY;
      svg.style.cursor = 'grabbing';
    });
    window.addEventListener('mousemove', e => {
      if (!dragging) return;
      const dx = e.clientX - lastX;
      const dy = e.clientY - lastY;
      tx += dx; ty += dy;
      lastX = e.clientX; lastY = e.clientY;
      redraw();
    });
    window.addEventListener('mouseup', () => {
      dragging = false;
      svg.style.cursor = 'grab';
    });
  })();
  </script>

  <!-- ==========  REST OF YOUR ARTICLE  ========== -->
  <hr>
  <h2>5. A Day in the Life of a Change</h2>
  <ol>
    <li><strong>Code</strong> ‚Äì Write, commit, push.</li>
    <li><strong>CI Gate</strong> ‚Äì Reproducible build &amp; tests.</li>
    <li><strong>GitOps Sync</strong> ‚Äì Argo CD rolls it out.</li>
    <li><strong>Observe</strong> ‚Äì Prometheus &amp; Grafana watch.</li>
  </ol>

  <hr>
  <h2>6. Beginner Take-aways</h2>
  <ul>
    <li>Start small: one service in Git + Argo CD.</li>
    <li>Use NixOS dev shells for parity.</li>
    <li>Add OPA policies early.</li>
    <li>Celebrate every green PR!</li>
  </ul>

  <section id="stack-assets">
    <h3>Grab the configs</h3>
    <button onclick="navigator.clipboard.writeText(Array.from(document.querySelectorAll('#stack-assets a')).map(a=>a.href).join('\n'))">üìã Copy URLs</button>
    <ol>
      <li><a href="assets/README.md" download>README.md</a></li>
      <li><a href="assets/flake.nix" download>flake.nix</a></li>
      <li><a href="assets/main.tf" download>main.tf</a></li>
      <li><a href="assets/argocd-app.yaml" download>argocd-app.yaml</a></li>
      <li><a href="assets/constraint-template.yaml" download>constraint-template.yaml</a></li>
    </ol>
  </section>

  <hr>
  <h2>7. The Bigger Picture</h2>
  <p>Declarative, Git-driven stacks aren‚Äôt tools; they‚Äôre a culture.<br>
     When everything is code, knowledge lives in the repo, not in someone‚Äôs head.</p>
  <p><strong>Welcome to the Declared World!</strong></p>

  <hr>
  <p style="font-size:.9em;color:#9ca3af;">¬© 2025 Jonathan McGuinness</p>
</body>
</html>
