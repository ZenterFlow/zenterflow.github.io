<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>From Snowflake Servers to GitOps Nirvana</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="A beginner-friendly tour of the declarative stack that actually runs itself.">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      line-height: 1.6;
      margin: 2rem auto;
      max-width: 680px;
      padding: 0 1rem;
      color: #ffffff;          /* white text */
      background: #111827;     /* dark background for contrast */
    }
    h1, h2 { color: #60a5fa; } /* light-blue headings */
    table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
    th, td { padding: .5rem; border: 1px solid #374151; text-align: left; }
    code { background: #1f2937; padding: .15rem .35rem; border-radius: 3px; }
    pre { background: #1f2937; padding: 1rem; overflow-x: auto; }
    img { max-width: 100%; height: auto; border-radius: 6px; }
  </style>
</head>

<body>
  <h1>From Snowflake Servers to GitOps Nirvana</h1>
  <p><em>A beginner-friendly tour of the declarative stack that actually runs itself — 04 Aug 2025</em></p>

  <p>You’ve probably heard the buzzwords: GitOps, NoOps, immutable infrastructure. Today I’d like to walk you - step by step - through why these concepts exist and how a small constellation of tools (NixOS, Terraform, Docker, Argo CD, Kubernetes, DSPy, and a pinch of policy-as-code) fit together to create a platform that deploys itself every time you hit <em>merge</em>.</p>
      <hr>
  <h2>1. The Problem We’re Solving</h2>
  <p>In the old world, a server was a pet: lovingly hand-fed config files, patched on Sundays, and inevitably different from every other server. The result?</p>
  <ul>
    <li>“It works on my machine!”</li>
    <li>Snow-flake drift and 3 a.m. pages.</li>
    <li>Scaling = more pets.</li>
  </ul>
      <hr>
  <h2>2. The North Star: Everything as Code</h2>
  <p>Instead of pets, we want cattle - identical, replaceable, and defined in text files that live in Git.</p>
  <p>If Git is the single source of truth, the rest of the stack becomes a conveyor belt that turns that truth into running software.</p>
      <hr>
  <h2>3. The Cast of Characters and Their Jobs</h2>
  <p>Table: A Declarative Software Stack</p>
  <!-- IMAGE 1 -->
  <figure>
    <img src="images/DeclarativeStack.jpg" alt="Diagram of declarative stack pipeline">
    <figcaption style="text-align:center;font-size:0.8rem;color:#9ca3af;">Table: A Declarative Software Stack</figcaption>
  </figure>
      <hr>
  <h2>4. How the Characters relate to Each Other</h2>
  <p>Table: A Declarative Software Architecture Workflow</p>
  <!-- IMAGE 2 -->
  <figure>
    <img src="images/DeclarativeArchitectureMermaidChart.png" alt="Screenshot of Argo CD dashboard">
    <figcaption style="text-align:center;font-size:0.8rem;color:#9ca3af;">Fig 2. Argo CD in action (replace IMAGE-2.jpg)</figcaption>
  </figure>
      <hr>
  <h2>5. A Day in the Life of a Change</h2>
  <p>Let’s add a new feature: “Show real-time in-game leaderboards”.</p>
  <ol>
    <li><strong>Code</strong></li>
      <ul>
        <li>Write the leaderboard service in Go.</li>
        <li>Add a DSPy pipeline to pre-aggregate stats.</li>
        <li>Commit everything to git.</li>
      </ul>
    <li><strong>CI Gate</strong></li>
      <ul>
        <li>Nix builds the Docker image (bit-for-bit reproducible).</li>
        <li>Terraform dry-run shows a new Redis cache.</li>
        <li>Tests pass → image is signed & pushed.</li>
      </ul>
    <li><strong>GitOps Sync</strong></li>
      <ul>
        <li>Argo CD detects the new commit hash.</li>
        <li>Kubernetes manifests are applied; pods roll out blue-green.</li>
        <li>OPA policy ensures the service can’t talk to the payments DB.</li>
      </ul>
    <li><strong>Observe</strong></li>
      <ul>
        <li>Prometheus sees p95 latency drop.</li>
        <li>Grafana dashboard auto-updates.</li>
        <li>No humans touched a server.</li>
      </ul>
  </ol>
      <hr>
  <h2>Beginner Take-aways</h2>
  <ul>
    <li><strong>Start small:</strong> Put one service in Docker, store its manifest in Git, and let Argo CD sync it.</li>
    <li><strong>Lean on NixOS for dev laptops</strong> - nix develop gives the exact same tools as prod.</li>
    <li><strong>Policies early:</strong> A 15-line OPA rule today prevents a 3 a.m. breach tomorrow.</li>
    <li><strong>Celebrate merges:</strong> Every green PR is a fully tested, policy-compliant, zero-downtime release.</li>
  </ul>
      <hr>
  <h2>7. The Bigger Picture</h2>
  <p>Declarative, Git-driven stacks aren’t tools; they’re a culture.<br>
    When everything is code, knowledge lives in the repo, not in someone’s head.<br>
    That means faster onboarding, fearless refactors, and - best of all - Friday deploys that don’t ruin weekends.</p>
  <p><strong>Welcome to the Declared World:</strong> where the robots do the toil, and we get back to building great games.</p>
    <hr>
  <p style="font-size:0.9em;color:#9ca3af;">
    © 2025 Jonathan McGuinness · 
  </p>
</body>
</html>
